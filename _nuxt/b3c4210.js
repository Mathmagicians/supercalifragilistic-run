(window.webpackJsonp=window.webpackJsonp||[]).push([[2,14],{529:function(t,e,n){var content=n(540);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(93).default)("292e63d1",content,!0,{sourceMap:!1})},535:function(t,e,n){var r=n(9),o=Math.log,l=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/l}})},536:function(t,e,n){"use strict";var r=n(9),o=n(72),l=n(537),c=n(334),d=n(10),h=1..toFixed,f=Math.floor,v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=f(r/1e7)},x=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=f(n/t),n=n%t*1e7},_=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+c.call("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){h.call({})}))},{toFixed:function(t){var e,n,r,d,h=l(this),f=o(t),data=[0,0,0,0,0,0],y="",C="0";if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||h>=1e21)return String(h);if(h<0&&(y="-",h=-h),h>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(h*v(2,69,1))-69)<0?h*v(2,-e,1):h/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(data,0,n),r=f;r>=7;)m(data,1e7,0),r-=7;for(m(data,v(10,r,1),0),r=e-1;r>=23;)x(data,1<<23),r-=23;x(data,1<<r),m(data,1,1),x(data,2),C=_(data)}else m(data,0,n),m(data,1<<-e,0),C=_(data)+c.call("0",f);return C=f>0?y+((d=C.length)<=f?"0."+c.call("0",f-d)+C:C.slice(0,d-f)+"."+C.slice(d-f)):y+C}})},537:function(t,e,n){var r=n(64);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},538:function(t,e,n){!function(){"use strict";var e=function(t){return(t="number"==typeof t?{precision:t}:t||{}).precision=t.precision||5,t.factor=t.factor||Math.pow(10,t.precision),t.dimension=t.dimension||2,t},n={encode:function(t,n){n=e(n);for(var r=[],i=0,o=t.length;i<o;++i){var l=t[i];if(2===n.dimension)r.push(l.lat||l[0]),r.push(l.lng||l[1]);else for(var c=0;c<n.dimension;++c)r.push(l[c])}return this.encodeDeltas(r,n)},decode:function(t,n){n=e(n);for(var r=this.decodeDeltas(t,n),o=[],i=0,l=r.length;i+(n.dimension-1)<l;){for(var c=[],d=0;d<n.dimension;++d)c.push(r[i++]);o.push(c)}return o},encodeDeltas:function(t,n){n=e(n);for(var r=[],i=0,o=t.length;i<o;)for(var l=0;l<n.dimension;++l,++i){var c=t[i].toFixed(n.precision),d=c-(r[l]||0);r[l]=c,t[i]=d}return this.encodeFloats(t,n)},decodeDeltas:function(t,n){n=e(n);for(var r=[],o=this.decodeFloats(t,n),i=0,l=o.length;i<l;)for(var c=0;c<n.dimension;++c,++i)o[i]=Math.round((r[c]=o[i]+(r[c]||0))*n.factor)/n.factor;return o},encodeFloats:function(t,n){n=e(n);for(var i=0,r=t.length;i<r;++i)t[i]=Math.round(t[i]*n.factor);return this.encodeSignedIntegers(t)},decodeFloats:function(t,n){n=e(n);for(var r=this.decodeSignedIntegers(t),i=0,o=r.length;i<o;++i)r[i]/=n.factor;return r},encodeSignedIntegers:function(t){for(var i=0,e=t.length;i<e;++i){var n=t[i];t[i]=n<0?~(n<<1):n<<1}return this.encodeUnsignedIntegers(t)},decodeSignedIntegers:function(t){for(var e=this.decodeUnsignedIntegers(t),i=0,n=e.length;i<n;++i){var r=e[i];e[i]=1&r?~(r>>1):r>>1}return e},encodeUnsignedIntegers:function(t){for(var e="",i=0,n=t.length;i<n;++i)e+=this.encodeUnsignedInteger(t[i]);return e},decodeUnsignedIntegers:function(t){for(var e=[],n=0,r=0,i=0,o=t.length;i<o;++i){var b=t.charCodeAt(i)-63;n|=(31&b)<<r,b<32?(e.push(n),n=0,r=0):r+=5}return e},encodeSignedInteger:function(t){return t=t<0?~(t<<1):t<<1,this.encodeUnsignedInteger(t)},encodeUnsignedInteger:function(t){for(var e,n="";t>=32;)e=63+(32|31&t),n+=String.fromCharCode(e),t>>=5;return e=t+63,n+=String.fromCharCode(e)}};if("object"==typeof t.exports&&(t.exports=n),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(t,e){return L.polyline(n.decode(t),e)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(t,e){return L.polygon(n.decode(t),e)});var r={encodePath:function(){return n.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(r),L.Polygon.prototype.encodePath||L.Polygon.include(r),L.PolylineUtil=n}}()},539:function(t,e,n){"use strict";n(529)},540:function(t,e,n){var r=n(92)((function(i){return i[1]}));r.push([t.i,".mymarker[data-v-ba09b2f6]{font-size:32px}",""]),t.exports=r},543:function(t,e,n){"use strict";n.r(e);n(28),n(20),n(26),n(36),n(25),n(37);var r=n(14),o=n(22),l=n(91),c=n(71);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={name:"Leaderboard",components:{StarIcon:l.p,MapIcon:l.n,CalendarIcon:l.b,UserIcon:l.r,CloudDownloadIcon:l.h,CalculatorIcon:l.a,ClipboardListIcon:l.f,GiftIcon:l.j,HeroButton:c.default},props:{athletes:{type:Array,required:!0}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({challenge:"challenge/getMyChallenge",position:"challenge/getAthletePosition"})),data:function(){return{showAthleteDetails:!1,selectedAthlete:null}},methods:{showDetails:function(t){console.log("clicked a:",t),this.selectedAthlete=t,this.showAthleteDetails=!0}}},f=(n(550),n(13)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[t.showAthleteDetails?n("div",{staticClass:"absolute inset-0 z-50 bg-gray-50 border-gray-200 ring-gray-400 ring-4 border-4 rounded-lg overflow-scroll"},[n("hero-button",{on:{click:function(e){t.showAthleteDetails=!1}}},[t._v("\n      🦩 Back\n    ")]),t._v(" "),n("my-runs",{attrs:{"my-athlete":t.selectedAthlete}})],1):t._e(),t._v(" "),n("table",{staticClass:"table table-auto border-collapse border-t-4 border-b-4 border-pink-400 text-gray-700 w-full"},[n("thead",{staticClass:"text-md sm:text-xl px-2 py-4 mx-2 text-current text-center text-pink-600"},[n("th",[n("ClipboardListIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",[n("UserIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",[n("CalendarIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",[n("MapIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",{staticClass:"w-1/12"},[n("StarIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",{staticClass:"border-r-2 border-l-2 sm:border-none w-1/8"},[n("CalculatorIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",{staticClass:"border-r-2 border-gray-200  w-1/12"},[n("GiftIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",{staticClass:"border-r-2 border-l-2 sm:border-none w-1/8"},[n("CalculatorIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1),t._v(" "),n("th",[n("CloudDownloadIcon",{staticClass:"text-pink-600 inline-block",attrs:{size:"1.5x"}})],1)]),t._v(" "),t._m(0),t._v(" "),t.athletes?n("tbody",{staticClass:"mx-2 font-medium text-sm sm:text-lg"},t._l(t.athletes,(function(e){return n("tr",{key:e.id,staticClass:"table-row"},[n("td",{staticClass:"text-2xl sm:text-6xl text-right table-cell"},[t._v("\n          "+t._s(t.position(e.ProfileId))+"\n        ")]),t._v(" "),n("td",{staticClass:"text-center px-2 sm:px-4 text-lg sm:text-md table-cell "},[n("button",{staticClass:"hover:-rotate-6 hover:border-b-4 hover:border-pink-600 hover:scale-105 focus:outline-none focus:shadow-outline\n  transform transition  duration-300 ease-in-out",on:{click:function(n){return t.showDetails(e)}}},[t._v("\n            "+t._s(e.Meta.Fav?e.Meta.Fav:"⁇")+" "+t._s(e.Meta.Name?e.Meta.Name:"name missing")+"\n          ")])]),t._v(" "),n("td",{staticClass:"text-center px-2 sm:px-4 border-r-2 sm:border-none text-lg"},[t._v("\n          "+t._s(e.Score.RunDays)+"\n        ")]),t._v(" "),n("td",{staticClass:"text-right px-2 sm:px-4",class:e.Score.KmsTotal?"text-green-600":"text-red-600"},[t._v("\n          ️"+t._s(e.Score.KmsTotal.toFixed(0))+"\n        ")]),t._v(" "),n("td",{staticClass:"text-right px-2 sm:px-4 text-lg",class:e.Score.StarsCollected?"text-green-600":"text-red-600"},[t._v("\n          ️"+t._s(e.Score.StarsCollected)+"\n        ")]),t._v(" "),n("td",{staticClass:"text-right px-2 sm:px-4 text-lg",class:e.Score.SpecialPrize?"text-green-600":"text-grey-700"},[n("p",[t._v("\n            "+t._s(e.Score.SpecialPrize)+"\n          ")])]),t._v(" "),n("td",{staticClass:"text-right px-2 sm:px-4 text-lg border-gray-200 border-r-2 text-green-600 flex flex-row justify-end justify-center"},[e.Score.AllStars?n("medal",{attrs:{"with-podium":!1,athlete:e,for:"AllStars"}}):t._e(),t._v(" "),e.Score.WeekWithMostKms?n("medal",{attrs:{"with-podium":!1,athlete:e,for:"WeekWithMostKms"}}):t._e(),t._v(" "),e.Score.WeekWithMostStars?n("medal",{attrs:{"with-podium":!1,athlete:e,for:"WeekWithMostStars"}}):t._e(),t._v(" "),1===t.position(e.ProfileId)?n("medal",{attrs:{"with-podium":!1,athlete:e,for:1}}):t._e(),t._v(" "),2===t.position(e.ProfileId)?n("medal",{attrs:{"with-podium":!1,athlete:e,for:2}}):t._e(),t._v(" "),3===t.position(e.ProfileId)?n("medal",{attrs:{"with-podium":!1,athlete:e,for:3}}):t._e()],1),t._v(" "),n("td",{staticClass:"text-right px-2 sm:px-4 text-2xl sm:text-6xl border-l-2 border-r-2 sm:border-none",class:e.Score.RunDays?"text-green-600":"text-red-600"},[t._v("\n          ️"+t._s(e.Score.Total.toFixed(0))+"\n        ")]),t._v(" "),e.Meta.RapStatus?n("td",{staticClass:"text-right text-xs text-gray-400"},[t._v("\n          "+t._s(t._f("timeSince")(e.Meta.LatestFetch))+"\n        ")]):n("td",{staticClass:"text-right text-xs text-gray-400"},[n("p",{staticClass:"hidden sm:block"},[t._v("\n            So sorry 🦩 ...\n          ")]),t._v(" "),n("p",{staticClass:"hidden sm:block"},[t._v("\n            Can not show scores\n          ")]),t._v(" "),n("p",[t._v("Strava not authorized")])])])})),0):t._e()])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"font-extralight text-xs sm:text-sm px-1 py-1 border-b-2 mx-2 text-gray-400 whitespace-normal text-center"},[n("th",[t._v("\n        Position\n      ")]),t._v(" "),n("th",[t._v("\n        Athlete\n      ")]),t._v(" "),n("th",[t._v("\n        Run Days\n      ")]),t._v(" "),n("th",[t._v("\n        Distance\n      ")]),t._v(" "),n("th",[t._v("\n        Stars\n      ")]),t._v(" "),n("th",[t._v("\n        Bonus\n      ")]),t._v(" "),n("th",{staticClass:"border-r-2 border-gray-200"},[t._v("\n        Awards\n      ")]),t._v(" "),n("th",[t._v("\n        Total\n      ")]),t._v(" "),n("th",[t._v("\n        Sync\n      ")])])}],!1,null,"2ed623ac",null);e.default=component.exports;installComponents(component,{MyRuns:n(544).default,Medal:n(530).default})},544:function(t,e,n){"use strict";n.r(e);n(28),n(20),n(26),n(36),n(25),n(37);var r=n(14),o=(n(552),n(554),n(91)),l=n(22);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"MyRuns",components:{PageSectionTitle:n(203).default,CalendarIcon:o.b,LightningBoltIcon:o.m,MapIcon:o.n,CalculatorIcon:o.a,StarIcon:o.p,CloudDownloadIcon:o.h,ChevronRightIcon:o.e,ChevronDownIcon:o.d},props:{myAthlete:{type:Object,required:!0}},data:function(){return{isVisibleIndex:0}},computed:d(d({},Object(l.c)({position:"challenge/getAthletePosition"})),{},{visitedStars:function(){var t,e;return null===(t=this.myAthlete)||void 0===t||null===(e=t.Events)||void 0===e?void 0:e.flatMap((function(t){return t.Runs})).flatMap((function(t){return t.StarVisits}))}})},f=n(13),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full flex-col"},[n("page-section-title",[t._v("\n    "+t._s(t.myAthlete.Meta.Fav)+" "+t._s(t.myAthlete.Meta.Name)+"'s Running Efforts\n  ")]),t._v(" "),n("p",{staticClass:"text-xs text-gray-400 text-current"},[n("CloudDownloadIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v(" Data fetched "+t._s(t._f("timeSince")(t.myAthlete.Meta.LatestFetch))+"\n  ")],1),t._v(" "),n("leaderboard",{staticClass:"my-2 sm:my-4",attrs:{athletes:[t.myAthlete]}}),t._v(" "),n("div",{staticClass:"flex flex-row items-end"},[t.myAthlete.Score.AllStars?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:"AllStars"}}):t._e(),t._v(" "),t.myAthlete.Score.WeekWithMostKms?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:"WeekWithMostKms"}}):t._e(),t._v(" "),t.myAthlete.Score.WeekWithMostStars?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:"WeekWithMostStars"}}):t._e(),t._v(" "),1===t.position(t.myAthlete.ProfileId)?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:1}}):t._e(),t._v(" "),2===t.position(t.myAthlete.ProfileId)?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:2}}):t._e(),t._v(" "),3===t.position(t.myAthlete.ProfileId)?n("medal",{attrs:{"with-podium":!0,athlete:t.myAthlete,for:3}}):t._e()],1),t._v(" "),n("div",{staticClass:"flex flex-col"},t._l(t.myAthlete.Events,(function(e,r){return n("div",{key:e.Date},[n("div",{staticClass:"bg-gray-900 text-white text-xl sm:text-3xl my-2 sm:my-4 text-current relative"},[n("button",{staticClass:"absolute left-2 bottom-2 sm:inset-y-2 opacity-25 p-0 m-0 ring-2 border-2 bg-gray-700 text-white border-white ring-gray-50\n           font-bold rounded-full shadow-lg\n            hover:underline  hover:opacity-90 hover:scale-125\n            focus:outline-none focus:opacity-90\n            transform transition  duration-300 ease-in-out\n         ",class:r===t.isVisibleIndex?"opacity-90 hover:-rotate-90":"hover:rotate-90"},[r!==t.isVisibleIndex?n("chevron-right-icon",{staticClass:"inline-block",attrs:{size:"1.5x"},on:{click:function(e){t.isVisibleIndex=r}}}):t._e(),t._v(" "),r===t.isVisibleIndex?n("chevron-down-icon",{staticClass:"inline-block",attrs:{size:"1.5x"},on:{click:function(e){t.isVisibleIndex=-1}}}):t._e()],1),t._v(" "),n("h2",{staticClass:"p-4 sm:px-4 sm:py-8 text-center"},[n("CalendarIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v(" Run Day "+t._s(t.myAthlete.Events.length-r)+" ✨ "+t._s(e.Date)+"\n          ✨  "),n("LightningBoltIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v(" Runs "+t._s(e.Runs.length)+"\n          ✨ "),n("CalculatorIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v("\n          Score "+t._s(e.Score.Total.toFixed(0))+"\n          ✨ "),n("MapIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v("\n          Distance "+t._s(e.Score.KmsTotal.toFixed(1))+" km\n          ✨ "),n("StarIcon",{staticClass:"inline-block",attrs:{size:"1.5x"}}),t._v("\n          Stars "+t._s(e.Score.StarsCollected)+" ✨\n        ")],1)]),t._v(" "),r===t.isVisibleIndex?n("div",t._l(e.Runs,(function(o,l){return n("run",{key:o.id,attrs:{run:o.Run,"star-visits":o.StarVisits,"visited-stars":t.visitedStars,"run-value":o.RunValue,fav:t.myAthlete.Meta.Fav,number:[t.myAthlete.Events.length-r,e.Runs.length-l]}})})),1):t._e()])})),0)],1)}),[],!1,null,"085e4e36",null);e.default=component.exports;installComponents(component,{Leaderboard:n(543).default,Medal:n(530).default,Run:n(547).default})},545:function(t,e,n){var content=n(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(93).default)("299501b5",content,!0,{sourceMap:!1})},547:function(t,e,n){"use strict";n.r(e);n(28),n(20),n(36),n(25),n(37);var r=n(14),o=(n(535),n(30),n(536),n(63),n(26),n(205),n(91)),l=n(22);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=n(538),h={name:"Run",components:{StarIcon:o.p,MapIcon:o.n,ClockIcon:o.g,CalendarIcon:o.b,LightningBoltIcon:o.m},props:{run:{type:Object,default:null},number:{type:Array,required:!0},starVisits:{type:Array,default:function(){return[]}},visitedStars:{type:Array,default:function(){return[]}},runValue:{type:Object,required:!0},fav:{type:String,required:!0}},data:function(){return{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> | © <a href="https://www.mapbox.com/about/maps/">MapBox</a>',worldsNavel:[55.67644,12.56824],url:this.$config.mapbox_url,starIcon:null,newStarIcon:null,revisitIcon:null,runnerIcon:null,polyline:{latlngs:[],color:"DeepPink"}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({star:function(){return this.worldsNavel},center:function(){return this.run?[this.run.start_latitude,this.run.start_longitude]:this.worldsNavel},zoom:function(){var t,e=15;return null!=this&&null!==(t=this.run)&&void 0!==t&&t.distance&&(e-=Math.floor(Math.log2(this.run.distance))-11),e},stats:function(){return[{title:"Your went running",unit:"",value:this.run.name,icon:"LightningBoltIcon"},{title:"When",unit:"",value:"",icon:"CalendarIcon"},{title:"Average speed",unit:"km/h",value:(3.6*this.run.average_speed).toFixed(1),icon:"ClockIcon"},{title:"Pace",unit:"min/km",value:(100/(6*this.run.average_speed)).toFixed(1),icon:"ClockIcon"},{title:"Distance",unit:"km",value:(this.run.distance/1e3).toFixed(1),icon:"MapIcon"},{title:"Stars",unit:"",value:this.runValue.NewStars,icon:"StarIcon"}]}},Object(l.c)({stars:"challenge/getStars",visited:"challenge/getVisitedStars"})),methods:{initMap:function(){this.setIconStyles(),this.decode()},getHtmlTemplate:function(t,e,n,r){var o='<div style="height: '.concat(r,"px; width: ").concat(r,"px; line-height: ").concat(r,"px; font-size: ").concat(r+r/3,"px; text-align: center; padding: 0px 0px; color: ").concat(t,'; ">').concat(n,"</div>");return this.$L.divIcon({iconSize:[r,r],html:o,className:"mymarker"})},setIconStyles:function(){var t='<h1 style="font-size: 5rem">'.concat(this.fav,"</h1>");this.starIcon=this.getHtmlTemplate("#f9cd0b",12,"★",30),this.newStarIcon=this.getHtmlTemplate("#d53f8c",12,"★",30),this.revisitIcon=this.getHtmlTemplate("#38a169",12,"★",30),this.runnerIcon=this.$L.divIcon({iconSize:[32,32],iconAnchor:[16,25],html:t,className:"mymarker"})},decode:function(){this.run.summary_polyline&&(this.polyline.latlngs=d.decode(this.run.summary_polyline))},starStatusIcon:function(t){var e,n,r=function(e){return(null==e?void 0:e.StarId)===t},o=null===(e=this.starVisits)||void 0===e?void 0:e.filter(r);if(null==o?void 0:o.find((function(t){return t.FirstTime})))return this.newStarIcon;var l=null===(n=this.visitedStars)||void 0===n?void 0:n.filter(r);return l&&(null==l?void 0:l.length)>0?this.revisitIcon:this.starIcon}}},f=(n(539),n(13)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-6 mb-8 sm:mt-12 b-2 rounded-lg border-gray-200 p-4 flex flex-col items-center w-full"},[n("div",{staticClass:"border-t-2 border-pink-400 mt-4 lg:m-t-8 h-32 flex flex-row p-2 ",attrs:{id:"title"}},[n("div",[n("h2",{staticClass:"font-bold sm:font-extrabold text-4xl sm:text-8xl font-bold leading-tight text-gray-600 px-8"},[t._v("\n        "+t._s(t.number[0])+"\n        "),t.number[1]>1?n("span",{staticClass:"text-sm text-gray-400"},[t._v("/"+t._s(t.number[1]))]):t._e()])]),t._v(" "),t._l(t.stats,(function(s){return n("div",{key:s.title,staticClass:"border-r-2 text-pink-600 border-gray-100 px-1 sm:px-2 flex flex-col align-bottom"},[n(s.icon,{tag:"component",staticClass:"text-current",attrs:{size:"2x"}}),t._v(" "),"When"!==s.title?n("span",{staticClass:"mt-4 text-md sm:text-lg text-gray-600"},[t._v(t._s(s.value)),n("span",{staticClass:"text-sm text-gray-400 px-1"},[t._v(t._s(s.unit))])]):t._e(),t._v(" "),"When"===s.title?n("span",{staticClass:"mt-4 text-md sm:text-lg text-gray-600"},[t._v(" "+t._s(t._f("dateSince")(t.run.start_date))),n("span",{staticClass:"text-sm text-gray-400 px-1"},[t._v(t._s(s.unit))])]):t._e(),t._v(" "),n("span",{staticClass:"mt-2 text-xs text-gray-400"},[t._v(t._s(s.title))])],1)}))],2),t._v(" "),n("div",{staticStyle:{height:"50vw",width:"80vw",overflow:"hidden"},attrs:{id:"map-wrap"}},[n("client-only",[n("l-map",{attrs:{zoom:t.zoom,center:t.center,"min-zoom":8},on:{ready:t.initMap}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.stars,(function(s){return n("l-marker",{key:s.ID,attrs:{"lat-lng":[s.Lat,s.Lang],icon:t.starStatusIcon(s.ID)}},[n("l-popup",[n("h1",[t._v(t._s(s.Name)+"️")]),t._v(" "),n("p",[t._v("("+t._s(s.Lat)+", "+t._s(s.Lang)+")")]),t._v(" "),n("p",[t._v(t._s(s.Description))])])],1)})),t._v(" "),n("l-marker",{attrs:{"lat-lng":t.center,icon:t.runnerIcon}}),t._v(" "),n("l-polyline",{attrs:{"lat-lngs":t.polyline.latlngs,color:t.polyline.color}})],2)],1)],1),t._v(" "),n("ul",[t.starVisits&&t.starVisits.length>0?n("li",{staticClass:"font-semibold capitalize"},[t._v("\n      Visited stars\n    ")]):t._e(),t._v(" "),t._l(t.starVisits,(function(e){return n("li",{key:e.StarId+e.RunId},[n("span",{class:e.FirstTime?"text-pink-600":"text-green-600"},[t._v("★")]),t._v(" You found a "),e.FirstTime?n("span",{staticClass:"text-pink-600"},[t._v("NEW ")]):t._e(),t._v(" star at "+t._s(e.StarName)+" "),n("span",{staticClass:"text-xs text-gray-400"},[t._v("("+t._s(e.StarId)+")")]),t._v(". Flyby distance was "+t._s((1e3*e.Distance).toFixed(0))+" m.\n      "),e.FirstTime?t._e():n("span",{staticClass:"text-gray-400"},[t._v("You have been here before, so no extra points 🦩")])])}))],2)])}),[],!1,null,"ba09b2f6",null);e.default=component.exports},550:function(t,e,n){"use strict";n(545)},551:function(t,e,n){var r=n(92)((function(i){return i[1]}));r.push([t.i,".scroller[data-v-2ed623ac]{-webkit-animation:scroll-data-v-2ed623ac 60s infinite alternate;animation:scroll-data-v-2ed623ac 60s infinite alternate}@-webkit-keyframes scroll-data-v-2ed623ac{0%{transform:translateX(0)}to{transform:translateX(-100%)}}@keyframes scroll-data-v-2ed623ac{0%{transform:translateX(0)}to{transform:translateX(-100%)}}",""]),t.exports=r},552:function(t,e,n){"use strict";var r=n(9),o=n(553),l=n(47),c=n(38),d=n(112),h=n(142);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=l(this),r=c(n.length);return d(t),(e=h(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},553:function(t,e,n){"use strict";var r=n(111),o=n(38),l=n(94),c=function(t,e,source,n,d,h,f,v){for(var element,m=d,x=0,_=!!f&&l(f,v,3);x<n;){if(x in source){if(element=_?_(source[x],x,e):source[x],h>0&&r(element))m=c(t,e,element,o(element.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[m]=element}m++}x++}return m};t.exports=c},554:function(t,e,n){n(109)("flatMap")}}]);