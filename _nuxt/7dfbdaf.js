(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{557:function(t,e,r){"use strict";r.r(e);var n=r(8),o=r(7),c=(r(43),r(45),r(19),r(14),r(17),r(21),r(16),r(22),r(10)),l=r(48),f=r(94);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"StravaLanding",components:{BasicPageLayout:r(112).default,StravaIntegationIndicator:f.default,PageSectionTitle:l.default},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.query,n=t.store,o=t.error,console.info("[strava_landing] received code ".concat(r.code," and scope ").concat(r.scope," from strava")),!r.code){e.next=11;break}return console.log("[strava_landing] strava is before authorization ",n.state.profile.runningAppAuthentication.strava),n.commit("setStravaAuthorization",{authorization_code:r.code,scopes:r.scope}),console.log("[strava_landing] strava is after authorization ",n.state.profile.runningAppAuthentication.strava),e.next=8,n.dispatch("acquireStravaRefreshToken");case 8:console.log("[strava_landing] strava is after token ",n.state.profile.runningAppAuthentication.strava),e.next=12;break;case 11:o({message:"Didnt receive authorization code from Strava",statusCode:400});case 12:case"end":return e.stop()}}),e)})))()},computed:d(d({},Object(c.c)(["profileName","canUseStrava","hasStravaAuthorizationCode","hasStravaRefreshToken","hasStravaAccessToken","hasRequestedScopes"])),Object(c.e)({strava:function(t){return t.profile.runningAppAuthentication.strava}})),methods:d(d({},Object(c.b)(["acquireStravaRefreshToken"])),Object(c.d)(["setStravaAuthorization"]))},O=r(4),component=Object(O.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("basic-page-layout",[r("page-section-title",[t._v("A successful landing")]),t._v(" "),r("h4",{staticClass:"text-gray-600 font-semibold text-xl text-center"},[t._v("\n    Congratulations "+t._s(t.profileName)+", Strava authorization done!\n  ")]),t._v(" "),r("nuxt-link",{attrs:{to:"/profile"}},[t._v("\n    Click here to go back to your profile\n  ")]),t._v(" "),r("strava-integation-indicator")],1)}),[],!1,null,"666e3102",null);e.default=component.exports;installComponents(component,{StravaIntegationIndicator:r(94).default})}}]);