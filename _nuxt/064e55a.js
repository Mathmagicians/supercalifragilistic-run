(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{526:function(t,e,n){var content=n(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(92).default)("292e63d1",content,!0,{sourceMap:!1})},532:function(t,e,n){var r=n(9),o=Math.log,c=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/c}})},533:function(t,e,n){"use strict";var r=n(9),o=n(72),c=n(534),l=n(332),d=n(10),f=1..toFixed,h=Math.floor,v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=h(r/1e7)},y=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=h(n/t),n=n%t*1e7},x=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+l.call("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:f&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){f.call({})}))},{toFixed:function(t){var e,n,r,d,f=c(this),h=o(t),data=[0,0,0,0,0,0],_="",I="0";if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(_="-",f=-f),f>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(f*v(2,69,1))-69)<0?f*v(2,-e,1):f/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(data,0,n),r=h;r>=7;)m(data,1e7,0),r-=7;for(m(data,v(10,r,1),0),r=e-1;r>=23;)y(data,1<<23),r-=23;y(data,1<<r),m(data,1,1),y(data,2),I=x(data)}else m(data,0,n),m(data,1<<-e,0),I=x(data)+l.call("0",h);return I=h>0?_+((d=I.length)<=h?"0."+l.call("0",h-d)+I:I.slice(0,d-h)+"."+I.slice(d-h)):_+I}})},534:function(t,e,n){var r=n(64);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},535:function(t,e,n){!function(){"use strict";var e=function(t){return(t="number"==typeof t?{precision:t}:t||{}).precision=t.precision||5,t.factor=t.factor||Math.pow(10,t.precision),t.dimension=t.dimension||2,t},n={encode:function(t,n){n=e(n);for(var r=[],i=0,o=t.length;i<o;++i){var c=t[i];if(2===n.dimension)r.push(c.lat||c[0]),r.push(c.lng||c[1]);else for(var l=0;l<n.dimension;++l)r.push(c[l])}return this.encodeDeltas(r,n)},decode:function(t,n){n=e(n);for(var r=this.decodeDeltas(t,n),o=[],i=0,c=r.length;i+(n.dimension-1)<c;){for(var l=[],d=0;d<n.dimension;++d)l.push(r[i++]);o.push(l)}return o},encodeDeltas:function(t,n){n=e(n);for(var r=[],i=0,o=t.length;i<o;)for(var c=0;c<n.dimension;++c,++i){var l=t[i].toFixed(n.precision),d=l-(r[c]||0);r[c]=l,t[i]=d}return this.encodeFloats(t,n)},decodeDeltas:function(t,n){n=e(n);for(var r=[],o=this.decodeFloats(t,n),i=0,c=o.length;i<c;)for(var l=0;l<n.dimension;++l,++i)o[i]=Math.round((r[l]=o[i]+(r[l]||0))*n.factor)/n.factor;return o},encodeFloats:function(t,n){n=e(n);for(var i=0,r=t.length;i<r;++i)t[i]=Math.round(t[i]*n.factor);return this.encodeSignedIntegers(t)},decodeFloats:function(t,n){n=e(n);for(var r=this.decodeSignedIntegers(t),i=0,o=r.length;i<o;++i)r[i]/=n.factor;return r},encodeSignedIntegers:function(t){for(var i=0,e=t.length;i<e;++i){var n=t[i];t[i]=n<0?~(n<<1):n<<1}return this.encodeUnsignedIntegers(t)},decodeSignedIntegers:function(t){for(var e=this.decodeUnsignedIntegers(t),i=0,n=e.length;i<n;++i){var r=e[i];e[i]=1&r?~(r>>1):r>>1}return e},encodeUnsignedIntegers:function(t){for(var e="",i=0,n=t.length;i<n;++i)e+=this.encodeUnsignedInteger(t[i]);return e},decodeUnsignedIntegers:function(t){for(var e=[],n=0,r=0,i=0,o=t.length;i<o;++i){var b=t.charCodeAt(i)-63;n|=(31&b)<<r,b<32?(e.push(n),n=0,r=0):r+=5}return e},encodeSignedInteger:function(t){return t=t<0?~(t<<1):t<<1,this.encodeUnsignedInteger(t)},encodeUnsignedInteger:function(t){for(var e,n="";t>=32;)e=63+(32|31&t),n+=String.fromCharCode(e),t>>=5;return e=t+63,n+=String.fromCharCode(e)}};if("object"==typeof t.exports&&(t.exports=n),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(t,e){return L.polyline(n.decode(t),e)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(t,e){return L.polygon(n.decode(t),e)});var r={encodePath:function(){return n.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(r),L.Polygon.prototype.encodePath||L.Polygon.include(r),L.PolylineUtil=n}}()},536:function(t,e,n){"use strict";n(526)},537:function(t,e,n){var r=n(91)((function(i){return i[1]}));r.push([t.i,".mymarker[data-v-ba09b2f6]{font-size:32px}",""]),t.exports=r},544:function(t,e,n){"use strict";n.r(e);n(28),n(20),n(36),n(24),n(37);var r=n(14),o=(n(532),n(30),n(533),n(63),n(25),n(203),n(90)),c=n(22);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=n(535),f={name:"Run",components:{StarIcon:o.p,MapIcon:o.n,ClockIcon:o.g,CalendarIcon:o.b,LightningBoltIcon:o.m},props:{run:{type:Object,default:null},number:{type:Array,required:!0},starVisits:{type:Array,default:function(){return[]}},visitedStars:{type:Array,default:function(){return[]}},runValue:{type:Object,required:!0},fav:{type:String,required:!0}},data:function(){return{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> | © <a href="https://www.mapbox.com/about/maps/">MapBox</a>',worldsNavel:[55.67644,12.56824],url:this.$config.mapbox_url,starIcon:null,newStarIcon:null,revisitIcon:null,runnerIcon:null,polyline:{latlngs:[],color:"DeepPink"}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({star:function(){return this.worldsNavel},center:function(){return this.run?[this.run.start_latitude,this.run.start_longitude]:this.worldsNavel},zoom:function(){var t,e=15;return null!=this&&null!==(t=this.run)&&void 0!==t&&t.distance&&(e-=Math.floor(Math.log2(this.run.distance))-11),e},stats:function(){return[{title:"Your went running",unit:"",value:this.run.name,icon:"LightningBoltIcon"},{title:"When",unit:"",value:"",icon:"CalendarIcon"},{title:"Average speed",unit:"km/h",value:(3.6*this.run.average_speed).toFixed(1),icon:"ClockIcon"},{title:"Pace",unit:"min/km",value:(100/(6*this.run.average_speed)).toFixed(1),icon:"ClockIcon"},{title:"Distance",unit:"km",value:(this.run.distance/1e3).toFixed(1),icon:"MapIcon"},{title:"Stars",unit:"",value:this.runValue.NewStars,icon:"StarIcon"}]}},Object(c.c)({stars:"challenge/getStars",visited:"challenge/getVisitedStars"})),methods:{initMap:function(){this.setIconStyles(),this.decode()},getHtmlTemplate:function(t,e,n,r){var o='<div style="height: '.concat(r,"px; width: ").concat(r,"px; line-height: ").concat(r,"px; font-size: ").concat(r+r/3,"px; text-align: center; padding: 0px 0px; color: ").concat(t,'; ">').concat(n,"</div>");return this.$L.divIcon({iconSize:[r,r],html:o,className:"mymarker"})},setIconStyles:function(){var t='<h1 style="font-size: 5rem">'.concat(this.fav,"</h1>");this.starIcon=this.getHtmlTemplate("#f9cd0b",12,"★",30),this.newStarIcon=this.getHtmlTemplate("#d53f8c",12,"★",30),this.revisitIcon=this.getHtmlTemplate("#38a169",12,"★",30),this.runnerIcon=this.$L.divIcon({iconSize:[32,32],iconAnchor:[16,25],html:t,className:"mymarker"})},decode:function(){this.run.summary_polyline&&(this.polyline.latlngs=d.decode(this.run.summary_polyline))},starStatusIcon:function(t){var e,n,r=function(e){return(null==e?void 0:e.StarId)===t},o=null===(e=this.starVisits)||void 0===e?void 0:e.filter(r);if(null==o?void 0:o.find((function(t){return t.FirstTime})))return this.newStarIcon;var c=null===(n=this.visitedStars)||void 0===n?void 0:n.filter(r);return c&&(null==c?void 0:c.length)>0?this.revisitIcon:this.starIcon}}},h=(n(536),n(13)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-6 mb-8 sm:mt-12 b-2 rounded-lg border-gray-200 p-4 flex flex-col items-center w-full"},[n("div",{staticClass:"border-t-2 border-pink-400 mt-4 lg:m-t-8 h-32 flex flex-row p-2 ",attrs:{id:"title"}},[n("div",[n("h2",{staticClass:"font-bold sm:font-extrabold text-4xl sm:text-8xl font-bold leading-tight text-gray-600 px-8"},[t._v("\n        "+t._s(t.number[0])+"\n        "),t.number[1]>1?n("span",{staticClass:"text-sm text-gray-400"},[t._v("/"+t._s(t.number[1]))]):t._e()])]),t._v(" "),t._l(t.stats,(function(s){return n("div",{key:s.title,staticClass:"border-r-2 text-pink-600 border-gray-100 px-1 sm:px-2 flex flex-col align-bottom"},[n(s.icon,{tag:"component",staticClass:"text-current",attrs:{size:"2x"}}),t._v(" "),"When"!==s.title?n("span",{staticClass:"mt-4 text-md sm:text-lg text-gray-600"},[t._v(t._s(s.value)),n("span",{staticClass:"text-sm text-gray-400 px-1"},[t._v(t._s(s.unit))])]):t._e(),t._v(" "),"When"===s.title?n("span",{staticClass:"mt-4 text-md sm:text-lg text-gray-600"},[t._v(" "+t._s(t._f("dateSince")(t.run.start_date))),n("span",{staticClass:"text-sm text-gray-400 px-1"},[t._v(t._s(s.unit))])]):t._e(),t._v(" "),n("span",{staticClass:"mt-2 text-xs text-gray-400"},[t._v(t._s(s.title))])],1)}))],2),t._v(" "),n("div",{staticStyle:{height:"50vw",width:"80vw",overflow:"hidden"},attrs:{id:"map-wrap"}},[n("client-only",[n("l-map",{attrs:{zoom:t.zoom,center:t.center,"min-zoom":8},on:{ready:t.initMap}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.stars,(function(s){return n("l-marker",{key:s.ID,attrs:{"lat-lng":[s.Lat,s.Lang],icon:t.starStatusIcon(s.ID)}},[n("l-popup",[n("h1",[t._v(t._s(s.Name)+"️")]),t._v(" "),n("p",[t._v("("+t._s(s.Lat)+", "+t._s(s.Lang)+")")]),t._v(" "),n("p",[t._v(t._s(s.Description))])])],1)})),t._v(" "),n("l-marker",{attrs:{"lat-lng":t.center,icon:t.runnerIcon}}),t._v(" "),n("l-polyline",{attrs:{"lat-lngs":t.polyline.latlngs,color:t.polyline.color}})],2)],1)],1),t._v(" "),n("ul",[t.starVisits&&t.starVisits.length>0?n("li",{staticClass:"font-semibold capitalize"},[t._v("\n      Visited stars\n    ")]):t._e(),t._v(" "),t._l(t.starVisits,(function(e){return n("li",{key:e.StarId+e.RunId},[n("span",{class:e.FirstTime?"text-pink-600":"text-green-600"},[t._v("★")]),t._v(" You found a "),e.FirstTime?n("span",{staticClass:"text-pink-600"},[t._v("NEW ")]):t._e(),t._v(" star at "+t._s(e.StarName)+" "),n("span",{staticClass:"text-xs text-gray-400"},[t._v("("+t._s(e.StarId)+")")]),t._v(". Flyby distance was "+t._s((1e3*e.Distance).toFixed(0))+" m.\n      "),e.FirstTime?t._e():n("span",{staticClass:"text-gray-400"},[t._v("You have been here before, so no extra points 🦩")])])}))],2)])}),[],!1,null,"ba09b2f6",null);e.default=component.exports}}]);